!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3/build/d3")):"function"==typeof define&&define.amd?define(["d3/build/d3"],e):"object"==typeof exports?exports.mapd3=e(require("d3/build/d3")):t.mapd3=e(t["d3/build/d3"])}("undefined"!=typeof self?self:this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=15)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"axisBottom",{enumerable:!0,get:function(){return r.axisBottom}}),Object.defineProperty(e,"axisLeft",{enumerable:!0,get:function(){return r.axisLeft}}),Object.defineProperty(e,"axisRight",{enumerable:!0,get:function(){return r.axisRight}}),Object.defineProperty(e,"timeParse",{enumerable:!0,get:function(){return r.timeParse}}),Object.defineProperty(e,"timeFormat",{enumerable:!0,get:function(){return r.timeFormat}}),Object.defineProperty(e,"utcFormat",{enumerable:!0,get:function(){return r.utcFormat}}),Object.defineProperty(e,"format",{enumerable:!0,get:function(){return r.format}}),Object.defineProperty(e,"bisector",{enumerable:!0,get:function(){return r.bisector}}),Object.defineProperty(e,"extent",{enumerable:!0,get:function(){return r.extent}}),Object.defineProperty(e,"sum",{enumerable:!0,get:function(){return r.sum}}),Object.defineProperty(e,"range",{enumerable:!0,get:function(){return r.range}}),Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return r.merge}}),Object.defineProperty(e,"nest",{enumerable:!0,get:function(){return r.nest}}),Object.defineProperty(e,"dispatch",{enumerable:!0,get:function(){return r.dispatch}}),Object.defineProperty(e,"easeLinear",{enumerable:!0,get:function(){return r.easeLinear}}),Object.defineProperty(e,"easeQuadInOut",{enumerable:!0,get:function(){return r.easeQuadInOut}}),Object.defineProperty(e,"select",{enumerable:!0,get:function(){return r.select}}),Object.defineProperty(e,"mouse",{enumerable:!0,get:function(){return r.mouse}}),Object.defineProperty(e,"event",{enumerable:!0,get:function(){return r.event}}),Object.defineProperty(e,"transition",{enumerable:!0,get:function(){return r.transition}}),Object.defineProperty(e,"randomUniform",{enumerable:!0,get:function(){return r.randomUniform}}),Object.defineProperty(e,"randomNormal",{enumerable:!0,get:function(){return r.randomNormal}}),Object.defineProperty(e,"timeDay",{enumerable:!0,get:function(){return r.timeDay}}),Object.defineProperty(e,"timeMonth",{enumerable:!0,get:function(){return r.timeMonth}}),Object.defineProperty(e,"timeSecond",{enumerable:!0,get:function(){return r.timeSecond}}),Object.defineProperty(e,"timeMinute",{enumerable:!0,get:function(){return r.timeMinute}}),Object.defineProperty(e,"timeHour",{enumerable:!0,get:function(){return r.timeHour}}),Object.defineProperty(e,"timeWeek",{enumerable:!0,get:function(){return r.timeWeek}}),Object.defineProperty(e,"timeYear",{enumerable:!0,get:function(){return r.timeYear}}),Object.defineProperty(e,"utcYear",{enumerable:!0,get:function(){return r.utcYear}}),Object.defineProperty(e,"utcDay",{enumerable:!0,get:function(){return r.utcDay}}),Object.defineProperty(e,"area",{enumerable:!0,get:function(){return r.area}}),Object.defineProperty(e,"curveCatmullRom",{enumerable:!0,get:function(){return r.curveCatmullRom}}),Object.defineProperty(e,"line",{enumerable:!0,get:function(){return r.line}}),Object.defineProperty(e,"stack",{enumerable:!0,get:function(){return r.stack}}),Object.defineProperty(e,"stackOffsetNone",{enumerable:!0,get:function(){return r.stackOffsetNone}}),Object.defineProperty(e,"stackOrderNone",{enumerable:!0,get:function(){return r.stackOrderNone}}),Object.defineProperty(e,"scaleTime",{enumerable:!0,get:function(){return r.scaleTime}}),Object.defineProperty(e,"scalePoint",{enumerable:!0,get:function(){return r.scalePoint}}),Object.defineProperty(e,"scaleBand",{enumerable:!0,get:function(){return r.scaleBand}}),Object.defineProperty(e,"scaleLinear",{enumerable:!0,get:function(){return r.scaleLinear}}),Object.defineProperty(e,"scaleOrdinal",{enumerable:!0,get:function(){return r.scaleOrdinal}}),Object.defineProperty(e,"symbol",{enumerable:!0,get:function(){return r.symbol}}),Object.defineProperty(e,"symbolTriangle",{enumerable:!0,get:function(){return r.symbolTriangle}}),Object.defineProperty(e,"brushX",{enumerable:!0,get:function(){return r.brushX}});var r=n(17)},function(t,e,n){"use strict";function r(t){return i(t)||o(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function i(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function l(t){return JSON.parse(JSON.stringify(t))}function c(t,e){var n=l(t);return"time"===e?(n.forEach(function(t){t[O.keys.KEY]=new Date(t[O.keys.KEY])}),n.sort(function(t,e){return t[O.keys.KEY].getTime()-e[O.keys.KEY].getTime()})):"string"===e?n.sort(function(t,e){return t[O.keys.KEY].localeCompare(e[O.keys.KEY],"en",{numeric:!1})}):n.sort(function(t,e){return t[O.keys.KEY]-e[O.keys.KEY]}),n}function u(t,e){var n={};t.forEach(function(t){n[t]=null});var r=Object.keys(n);return"time"===e?r.map(function(t){return new Date(t)}):r}function s(t,e,n){if("time"===n||"number"===n)return t.invert(e);var r=Math.round(e/t.step()-.5);return t.domain()[r]}function d(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=r in e?e[r]:t[r]);return n}function y(t,e){var n=!1,r=null;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];n||(n=!0,clearTimeout(r),r=setTimeout(function(){n=!1,t.apply(void 0,o)},e))}}function f(t){return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.on.apply(t,["".concat(n[0],".rebind")].concat(r(n.slice(1)))),this}}function p(t,e){var n=t;return"time"===e?n=S.timeParse("%m-%d-%Y")(t):"number"===e&&(n=Number(t)),n}function h(t){return Number(parseFloat(t))===t}function m(t){return t&&t.length&&2==t.filter(function(t){return!isNaN(t.valueOf())&&void 0!==t&&null!==t}).length}function g(){return"id-".concat(Math.random().toString(36).substr(2,16))}function b(t){return function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}}function v(t){return function(e,n){return n[t]<e[t]?-1:n[t]>e[t]?1:0}}function x(t,e){return Math.min(Math.max(e[0],t),e[1])}function k(t){return"bar"===t||"stackedBar"===t||"groupedBar"===t||Array.isArray(t)&&t.filter(function(t){return"bar"===t}).length>0}Object.defineProperty(e,"__esModule",{value:!0}),e.cloneData=l,e.sortData=c,e.getUnique=u,e.invertScale=s,e.override=d,e.throttle=y,e.rebind=f,e.stringToType=p,e.isNumeric=h,e.extendIsValid=m,e.uniqueId=g,e.ascendingComparator=b,e.descendingComparator=v,e.clamp=x,e.hasBars=k;var O=n(2),S=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.comparators=e.MAX_MARK_WIDTH=e.MIN_MARK_WIDTH=e.dashStylesTranslation=e.RIGHT_AXIS_GROUP_INDEX=e.LEFT_AXIS_GROUP_INDEX=e.keys=void 0;var r={KEY:"key",VALUE:"value",ID:"id",LABEL:"label",GROUP:"group",VALUES:"values",SERIES:"series"};e.keys=r;e.LEFT_AXIS_GROUP_INDEX="0";e.RIGHT_AXIS_GROUP_INDEX="1";var a={dashes:"4, 3",solid:null,dotted:"1 4"};e.dashStylesTranslation=a;e.MIN_MARK_WIDTH=20;e.MAX_MARK_WIDTH=200;var o={TOTAL_ASCENDING:"totalAscending",TOTAL_DESCENDING:"totalDescending",ALPHA_ASCENDING:"alphaAscending",ALPHA_DESCENDING:"alphaDescending"};e.comparators=o},function(t,e,n){"use strict";function r(t,e){var n=void 0===e?!t.classed("selected"):e;t.classed("selected",n).classed("dimmed",!n)}function a(t,e){return o(t,e,{toggleOffIsEnabled:!1,toggleMultipleIsEnabled:!1})}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{toggleOffIsEnabled:!1,toggleMultipleIsEnabled:!1},r=!1;t.classed("selected",function(){var t=this.classList.contains("selected"),a=this===e.node(),o=!1;return o=a?!n.toggleOffIsEnabled||!t:!!n.toggleMultipleIsEnabled&&t,r=r||o,o}),t.classed("dimmed",function(){return r&&!this.classList.contains("selected")})}function i(t){t.on("keypress.enter",function(){"Enter"===l.event.key&&this.blur()})}Object.defineProperty(e,"__esModule",{value:!0}),e.toggleOnOff=r,e.exclusiveToggle=a,e.toggle=o,e.blurOnEnter=i;var l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0))},function(t,e,n){"use strict";function r(t,e){return i(t)||o(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}function i(t){if(Array.isArray(t))return t}function l(t){return s(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function d(t){function e(){if(!j.root){j.root=j.container.append("div").attr("class",D?"legend-group":"tooltip-group").style("position","absolute");var t=j.root.append("div").attr("class","tooltip-panel");j.tooltipTitleSection=t.append("div").attr("class","tooltip-title-section"),j.tooltipTitle=j.tooltipTitleSection.append("div").attr("class","tooltip-title"),j.tooltipBody=t.append("div").attr("class","tooltip-body"),D?(j.tooltipTitleSection.append("div").attr("class","tooltip-collapse").html("↗"),j.tooltipTitleSection.on("click",function(){i(this.classList.toggle("collapsed"))})):j.root.style("pointer-events","none"),T.tooltipIsEnabled||d()}D&&(j.root.style("max-height",T.chartHeight),T.tooltipIsEnabled?m():d())}function n(t,e){var n=j.root.node().getBoundingClientRect(),r=t,a=4,o=e+T.margin.top-n.height/2;return t>T.markPanelWidth/2&&(a=-n.width-4),[r+a,o]}function a(){var t="auto"===j.xPosition?T.chartWidth:j.xPosition,e="auto"===j.yPosition?T.margin.top:j.yPosition;return j.root.style("top","".concat(e,"px")).style("left",function(){var e="auto"===j.xPosition?this.getBoundingClientRect().width:0;return"".concat(t+T.margin.left-e,"px")}),D&&j.root.style("max-height","".concat(T.chartHeight,"px")),this}function o(){var t=j.tooltipBody.selectAll(".tooltip-item").data(j.content),e=t.enter().append("div").attr("class","tooltip-item").merge(t);t.exit().remove();var n=e.selectAll(".section").data(function(t){var e=[{key:"tooltip-color",value:M.colorScale(t[f.keys.ID]),style:M.styleScale(t[f.keys.ID])}];return D&&e.push({key:"tooltip-label",value:t[f.keys.LABEL]}),void 0!==t[f.keys.VALUE]&&e.push({key:"value",value:t[f.keys.VALUE]}),e});return n.enter().append("div").merge(n).attr("class",function(t){return["section",t.key].join(" ")}).each(function(t){var e=y.select(this);if("tooltip-color"===t.key){var n=e.html("<svg></svg>").select("svg").attr("width",12).attr("height",12);"line"===T.chartType?n.append("line").attr("x1",0).attr("y1",6).attr("x2",12).attr("y2",6).attr("stroke",t.value).attr("stroke-width",2.5).attr("stroke-dasharray",function(t){return f.dashStylesTranslation[t.style]}):n.append("rect").attr("x",0).attr("y",0).attr("width",12).attr("height",12).style("fill",t.value)}else"value"===t.key?e.html((0,h.formatTooltipNumber)(t.value)):e.html(t.value)}),n.exit().remove(),this}function i(t){return t?(j.tooltipTitle.html("Legend"),j.tooltipBody.style("display","none"),a()):(c(),j.tooltipBody.style("display","block"),a()),this}function c(){var t=T.tooltipTitle||j.title;if(t instanceof Date){var e=T,n=e.binningResolution,r=h.binTranslation[n];t=r?y.utcFormat(r)(t):["1w","1q","10y","1c"].indexOf(n)>-1?(0,h.formatOddDateBin)(n,t):y.utcFormat(T.dateFormat)(t)}else(0,p.isNumeric)(t)&&(t=(0,h.formatTooltipNumber)(t));return j.tooltipTitle.html(t),this}function u(t){return j.content=s(t),this}function s(t){return l(t).sort(function(t,e){return e[f.keys.VALUE]-t[f.keys.VALUE]})}function d(){return j.root?(j.root.style("display","none"),this):null}function m(){return j.root&&T.tooltipIsEnabled?(j.root.style("display","block"),this):null}function g(t,a,o,i){e();var l=n(i,o),c=r(l,2),s=c[0],d=c[1];return O(s),S(d),k(t[f.keys.KEY]),u(t[f.keys.SERIES]),A(),this}function b(t){return t.on("mouseOverPanel.tooltip",m).on("mouseMovePanel.tooltip",g).on("mouseOutPanel.tooltip",d),this}function v(t){return T=(0,p.override)(T,t),this}function x(t){return M=(0,p.override)(M,t),this}function k(t){return j.title=t,this}function O(t){return j.xPosition=t,this}function S(t){return j.yPosition=t,this}function P(t){return j.content=t,this}function A(){return e(),c(),o(),a(),this}function E(){return j.root&&(j.root.remove(),j.root=null),this}var D=arguments.length>1&&void 0!==arguments[1]&&arguments[1],T={margin:{top:2,right:2,bottom:2,left:2},width:250,height:45,dateFormat:"%b %d, %Y",numberFormat:null,tooltipIsEnabled:!0,tooltipTitle:null,binningResolution:null,binningIsAuto:null,chartType:null,colorSchema:["skyblue"],keyType:"time",markPanelWidth:null,chartWidth:null,chartHeight:null},M={colorScale:null,styleScale:null},j={container:t,root:null,tooltipDivider:null,tooltipBody:null,tooltipTitle:null,tooltipBackground:null,xPosition:null,yPosition:null,content:null,title:null};return{bindEvents:b,setXPosition:O,setYPosition:S,setContent:P,setTitle:k,hide:d,show:m,render:A,setConfig:v,setScales:x,destroy:E}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var y=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),f=n(2),p=n(1),h=n(6)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.colors=e.grey=e.mapdColors=e.mapdUI=void 0;var r={skyBlue:"#22A7F0"};e.mapdUI=r;var a=["#ea5545","#bdcf32","#b33dc6","#ef9b20","#87bc45","#f46a9b","#ace5c7","#ede15b","#836dc5","#86d87f","#27aeef"];e.mapdColors=a;var o=["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"];e.grey=o;var i={mapdUI:r,mapdColors:a,grey:o};e.colors=i},function(t,e,n){"use strict";function r(t){switch(t){case"isodow":return function(t){return u[t-1]};case"month":return function(t){return s[t-1]};case"quarter":return function(t){return d[t-1]};case"hour":return function(t){return y[t]};case"minute":return function(t){return t+1};default:return function(t){return t}}}function a(t,e){var n=t[1],r=t[0];return n-r<=.02?".4f":n-r<=.2?".3f":n-r<=1.1?".2f":n-r<=100?".1f":n-r<=1e3?".0f":".2s"}function o(t){return(c.timeSecond(t)<t?f:c.timeMinute(t)<t?p:c.timeHour(t)<t?h:c.timeDay(t)<t?m:c.timeMonth(t)<t?c.timeWeek(t)<t?g:b:c.timeYear(t)<t?v:x)(t)}function i(t,e){switch(t){case"1w":return"".concat(c.utcFormat("%b %d")(e)," - ").concat(c.utcFormat("%b %d,")(c.utcDay.offset(e,6)));case"1c":return"".concat(c.utcFormat("%Y")(e)," - ").concat(c.utcFormat("%Y")(c.utcYear.offset(e,99)));case"10y":return"".concat(c.utcFormat("%Y")(e)," - ").concat(c.utcFormat("%Y")(c.utcYear.offset(e,9)));case"1q":var n=c.utcFormat("%m")(e);return"Q".concat(Math.floor((parseInt(n,10)+3)/3)," ").concat(c.utcFormat("%Y")(e));default:return}}function l(t){return c.format(",")(Math.round(100*t)/100)}Object.defineProperty(e,"__esModule",{value:!0}),e.getExtractFormatter=r,e.autoFormat=a,e.multiFormat=o,e.formatOddDateBin=i,e.formatTooltipNumber=l,e.binTranslation=void 0;var c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),u=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Q1","Q2","Q3","Q4"],y=["12AM","1AM","2AM","3AM","4AM","5AM","6AM","7AM","8AM","9AM","10AM","11AM","12PM","1PM","2PM","3PM","4PM","5PM","6PM","7PM","8PM","9PM","10PM","11PM"],f=c.timeFormat(".%L"),p=c.timeFormat(":%S"),h=c.timeFormat("%I:%M"),m=c.timeFormat("%I %p"),g=c.timeFormat("%a %d"),b=c.timeFormat("%b %d"),v=c.timeFormat("%b"),x=c.timeFormat("%Y"),k={"1y":"%Y","1mo":"%b %Y","1s":"%b %d, %Y %H:%M:%S","1m":"%b %d, %Y %H:%M","1h":"%b %d, %Y %H:%M","1d":"%b %d, %Y"};e.binTranslation=k},function(t,e,n){"use strict";function r(t){function e(t){return o.legendComponent.setConfig(t).setConfig({tooltipIsEnabled:t.legendIsEnabled}).setTitle(t.legendTitle).setXPosition(t.legendXPosition).setYPosition(t.legendYPosition),this}function n(t){return o.legendComponent.setScales(t),this}function r(t){var e=t.dataBySeries.map(function(t){return{id:t.id,key:t.key,label:t.label}});return o.legendComponent.setContent(e).render(),this}var o={legendComponent:(0,a.default)(t,!0)};return{setConfig:e,setScales:n,setData:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){return t&&t.__esModule?t:{default:t}}(n(4))},function(t,e,n){"use strict";function r(t){function e(){v.root||(v.root=v.container.append("g").classed("brush-group",!0),v.brush=a.brushX().on("start",c).on("brush",u).on("end",s))}function n(){v.brush.extent([[0,0],[g.markPanelWidth,g.chartHeight]]),v.chartBrush=v.root.call(v.brush),v.chartBrush.selectAll(".brush-rect").attr("height",g.chartHeight),l()}function r(){return a.event.selection.map(function(t){return(0,o.invertScale)(b.xScale,t,g.keyType)})}function i(t){return"time"===g.keyType?[new Date((0,o.clamp)(new Date(g.brushRangeMin),t)),new Date((0,o.clamp)(new Date(g.brushRangeMax),t))]:[(0,o.clamp)(g.brushRangeMin,t),(0,o.clamp)(g.brushRangeMax,t)]}function l(){var t=b.xScale.domain(),e=i(t);return(0,o.extendIsValid)(e)&&v.root.call(v.brush.move,e.map(function(t){return b.xScale(t)})),this}function c(){a.event.sourceEvent&&a.event.selection&&k.call("brushStart",this,r(),g)}function u(){a.event.sourceEvent&&a.event.selection&&k.call("brushMove",this,r(),g)}function s(){if(a.event.sourceEvent){if(!a.event.selection)return void k.call("brushClear",this,g);var t=r();k.call("brushEnd",this,t,g)}}function d(){return k.on.apply(k,arguments),this}function y(t){return g=(0,o.override)(g,t),this}function f(t){return b=(0,o.override)(b,t),this}function p(t){return x=Object.assign({},x,t),this}function h(){return g.brushIsEnabled||m(),g.brushIsEnabled&&e(),g.brushIsEnabled&&x.dataBySeries&&n(),this}function m(){return v.root&&(v.root.remove(),v.root=null),this}var g={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,keyType:null,brushRangeMin:null,brushRangeMax:null,brushIsEnabled:!0,markPanelWidth:null,chartHeight:null},b={xScale:null},v={container:t,dateRange:[null,null],brush:null,chartBrush:null,handle:null},x={dataBySeries:null},k=a.dispatch("brushStart","brushMove","brushEnd","brushClear");return{on:d,setConfig:y,setData:p,setScales:f,render:h,destroy:m}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(1)},function(t,e,n){"use strict";function r(t){function e(){k.root||(k.root=k.container.append("g").classed("hover-group",!0).style("pointer-events","none"))}function n(t,n){e(),isNaN(n)||(y(n),d(),"stackedLine"===v.chartType||"stackedArea"===v.chartType||"stackedBar"===v.chartType?s(t):c(t),S.call("hover",this,t))}function r(){return k.root?(k.root.style("display","block"),this):null}function l(){return k.root?(k.root.style("display","none"),this):null}function c(t){u(t[o.keys.SERIES])}function u(t){var e=k.root.selectAll(".dot").data(t);e.enter().append("circle").attr("class","dot").merge(e).attr("cy",function(t){var e=O.groupKeys[o.LEFT_AXIS_GROUP_INDEX];return e&&e.indexOf(t[o.keys.ID])>-1?x.yScale(t[o.keys.VALUE]):x.y2Scale?x.y2Scale(t[o.keys.VALUE]):x.yScale(t[o.keys.VALUE])}).attr("r",v.dotRadius).style("stroke","none").style("fill",P),e.exit().remove()}function s(t){var e={key:t[o.keys.KEY]};t.series.forEach(function(t){var n=t[o.keys.ID];e[n]=t[o.keys.VALUE]}),u(O.stack([e]).map(function(t){var e={value:t[0][1]};return e[o.keys.ID]=t.key,e}))}function d(){var t=k.root.selectAll("line").data([0]);t.enter().append("line").classed("vertical-marker",!0).merge(t).attr("y1",0).attr("y2",v.chartHeight),t.exit().remove()}function y(t){k.root.attr("transform","translate(".concat([t,0],")"))}function f(t){return t.on("mouseOverPanel.hover",r).on("mouseMovePanel.hover",n).on("mouseOutPanel.hover",l),this}function p(){return S.on.apply(S,arguments),this}function h(t){return v=(0,i.override)(v,t),this}function m(t){return x=(0,i.override)(x,t),this}function g(t){return O=Object.assign({},O,t),this}function b(){return k.root&&(k.root.remove(),k.root=null),this}var v={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,dotRadius:null,chartType:null,chartWidth:null,chartHeight:null},x={yScale:null,y2Scale:null,hasSecondAxis:null,colorScale:null},k={container:t,svg:null,dateRange:[null,null],brush:null,chartBrush:null,handle:null,data:null,isEnabled:!0},O={stack:null,groupKeys:null},S=a.dispatch("hover"),P=function(t){return x.colorScale(t[o.keys.ID])};return{setConfig:h,setScales:m,setData:g,bindEvents:f,highlightDataPoints:c,highlightStackedDataPoints:s,drawVerticalMarker:d,moveVerticalMarker:y,on:p,destroy:b}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(2),i=n(1)},function(t,e,n){"use strict";function r(t){function e(){y.root||(y.root=y.container.append("div").attr("class","binning-group").style("float","left").style("padding-top","12px").style("padding-left","12px"),y.label=y.root.append("div").attr("class","bin-label").text(d.label),y.autoItem=y.root.append("div").attr("class","item item-auto toggleOnOff").on("click.select",function(){var t=this.classList.contains("selected"),e=!t;f.call("change",this,{name:d.autoLabel,isSelected:e})}).text(d.autoLabel)),n(d.binningToggles);y.root.style("top","".concat(d.margin.top-20,"px")).style("left","".concat(d.margin.left,"px")),r(d.binningResolution),i(d.binningIsAuto)}function n(t){y.binningItems=y.root.selectAll(".toggleExclusive").data(t),y.binningItems.enter().append("div").on("click.select",function(t){var e=this.classList.contains("selected");f.call("change",this,{name:t,isSelected:e})}).merge(y.binningItems).attr("class",function(t){return"item item-".concat(t," toggleExclusive")}).text(function(t){return t}),y.binningItems.exit().remove()}function r(t){t&&(0,o.exclusiveToggle)(y.binningItems,y.root.select(".item-".concat(t)))}function i(t){y.autoItem.classed("selected",t).classed("dimmed",!t)}function l(){return d.binningIsEnabled?e():s(),this}function c(){return f.on.apply(f,arguments),this}function u(t){return d=Object.assign({},d,t),this}function s(){return y.root&&(y.root.remove(),y.root=null),this}var d={margin:{top:60,right:30,bottom:40,left:70},autoLabel:"auto",binningToggles:[],label:"BIN:",binningIsAuto:!1,binningResolution:"1mo",binningIsEnabled:!0},y={container:t,root:null,autoItem:null,binningItems:null,isEnabled:!0},f=a.dispatch("change");return{on:c,setConfig:u,render:l,destroy:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(3)},function(t,e,n){"use strict";function r(t){function e(){var t="auto"===b.xDomain?x.xScale.domain():b.xDomain,e="auto"===b.yDomain&&x.yScale?x.yScale.domain():b.yDomain,f="auto"===b.y2Domain&&x.y2Scale?x.y2Scale.domain():b.y2Domain,p=null,h=null,m=null,g=null,O=null,S=null,P=function(t){return t};"time"===b.keyType?P=a.utcFormat(b.inputDateFormat):"number"===b.keyType&&(P=a.format(b.numberFormat));var A=a.format(b.numberFormat),E=a.format(b.numberFormat);v.root||(v.root=v.container.append("div").attr("class","domain-input-group").style("position","absolute").style("top",0),v.xHitZone=v.root.append("div").attr("class","hit-zone x").style("pointer-events","all").style("position","absolute").on("mouseover.dispatch",d).on("mouseout.dispatch",y),v.yHitZone=v.root.append("div").attr("class","hit-zone y").style("pointer-events","all").style("position","absolute").on("mouseover.dispatch",l).on("mouseout.dispatch",c),v.y2HitZone=v.root.append("div").attr("class","hit-zone y2").style("pointer-events","all").style("position","absolute").on("mouseover.dispatch",u).on("mouseout.dispatch",s),v.yMaxInput=v.yHitZone.append("div").attr("class","domain-input y max").style("position","absolute").attr("contentEditable",!0).on("focus",function(){h=this.innerText}).on("blur",function(){var t=this.innerText,e=x.yScale.domain();n(t,"number")&&r(t,e,"max")?(h=t,k.call("domainChange",this,{axis:"y",extent:[e[0],Number(t)]})):this.innerText=h}).call(i.blurOnEnter),v.yMinInput=v.yHitZone.append("div").attr("class","domain-input y min").style("position","absolute").attr("contentEditable",!0).on("focus",function(){p=this.innerText}).on("blur",function(){var t=this.innerText,e=x.yScale.domain();n(t,"number")&&r(t,e,"min")?(p=t,k.call("domainChange",this,{axis:"y",extent:[Number(t),e[1]]})):this.innerText=p}).call(i.blurOnEnter),v.yLockIcon=v.yHitZone.append("div").attr("class","domain-lock y").style("position","absolute").on("click",function(){var t=this.classList.contains("locked");this.classList.toggle("locked",!t);var e=x.yScale.domain();k.call("domainLockToggle",this,{isLocked:!t,axis:"y",extent:e})}),v.y2MaxInput=v.y2HitZone.append("div").attr("class","domain-input y2 max").style("position","absolute").attr("contentEditable",!0).on("focus",function(){S=this.innerText}).on("blur",function(){var t=this.innerText,e=x.y2Scale.domain();n(t,"number")&&r(t,e,"max")?(S=t,k.call("domainChange",this,{axis:"y2",extent:[e[0],Number(t)]})):this.innerText=S}).call(i.blurOnEnter),v.y2MinInput=v.y2HitZone.append("div").attr("class","domain-input y2 min").style("position","absolute").attr("contentEditable",!0).on("focus",function(){O=this.innerText}).on("blur",function(){var t=this.innerText,e=x.y2Scale.domain();n(t,"number")&&r(t,e,"min")?(O=t,k.call("domainChange",this,{axis:"y2",extent:[Number(t),e[1]]})):this.innerText=O}).call(i.blurOnEnter),v.y2LockIcon=v.y2HitZone.append("div").attr("class","domain-lock y2").style("position","absolute").on("click",function(){var t=this.classList.contains("locked");this.classList.toggle("locked",!t);var e=x.y2Scale.domain();k.call("domainLockToggle",this,{isLocked:!t,axis:"y2",extent:e})}),v.xMinInput=v.xHitZone.append("div").attr("class","domain-input x min").style("position","absolute").attr("contentEditable",!0).on("focus",function(){m=this.innerText}).on("blur",function(){var t=this.innerText,e=x.xScale.domain();if(n(t,b.keyType)&&r(t,e,"min",b.keyType)){var a=(0,o.stringToType)(t,b.keyType);m=t,k.call("domainChange",this,{axis:"x",extent:[a,e[1]]})}else this.innerText=m}).call(i.blurOnEnter),v.xMaxInput=v.xHitZone.append("div").attr("class","domain-input x max").style("position","absolute").attr("contentEditable",!0).on("focus",function(){g=this.innerText}).on("blur",function(){var t=this.innerText,e=x.xScale.domain();if(n(t,b.keyType)&&r(t,e,"max",b.keyType)){var a=(0,o.stringToType)(this.innerText,b.keyType);g=t,k.call("domainChange",this,{axis:"x",extent:[e[0],a]})}else this.innerText=g}).call(i.blurOnEnter),v.xLockIcon=v.xHitZone.append("div").attr("class","domain-lock x").style("position","absolute").on("click",function(){var t=this.classList.contains("locked");this.classList.toggle("locked",!t);var e=x.xScale.domain();k.call("domainLockToggle",this,{isLocked:!t,axis:"x",extent:e})}),c(),s(),y()),b.xDomainEditorIsEnabled?(v.xHitZone.style("display","block"),v.xHitZone.style("width","".concat(b.chartWidth+12,"px")).style("height","".concat(40,"px")).style("top","".concat(b.margin.top+b.chartHeight,"px")).style("left","".concat(b.margin.left,"px")).style("display","block"),v.xMinInput.style("top","".concat(4,"px")).style("left","0px").text(P(t[0])),v.xMaxInput.style("top","".concat(4,"px")).style("right","".concat(12,"px")).text(P(t[1])),v.xLockIcon.classed("locked",b.xLock).style("width","".concat(12,"px")).style("height","".concat(12,"px")).style("right","0px")):v.xHitZone.style("display","none"),b.yDomainEditorIsEnabled?(v.yHitZone.style("display","block"),v.yHitZone.style("width","".concat(40,"px")).style("height","".concat(b.chartHeight+12,"px")).style("top","".concat(b.margin.top-12,"px")).style("left","".concat(b.margin.left-40,"px")).style("display","block"),v.yMaxInput.style("top","".concat(12,"px")).style("right","0px").text(A(e[1])),v.yMinInput.style("top","".concat(b.chartHeight+12-12,"px")).style("right","0px").text(A(e[0])),v.yLockIcon.classed("locked",b.yLock).style("width","".concat(12,"px")).style("height","".concat(12,"px")).style("left","".concat(28,"px")).style("top","".concat(0,"px"))):v.yHitZone.style("display","none"),b.y2DomainEditorIsEnabled?(v.y2HitZone.style("display","block"),v.y2HitZone.style("width","".concat(40,"px")).style("height","".concat(b.chartHeight+12,"px")).style("top","".concat(b.margin.top-12,"px")).style("left","".concat(b.margin.left+b.chartWidth,"px")),v.y2MaxInput.style("top","".concat(12,"px")).style("left","".concat(4,"px")).text(E(f[1])),v.y2MinInput.style("top","".concat(b.chartHeight+12-12,"px")).style("left","".concat(4,"px")).text(E(f[0])),v.y2LockIcon.classed("locked",b.y2Lock).style("width","".concat(12,"px")).style("height","".concat(12,"px")).style("top","".concat(0,"px"))):v.y2HitZone.style("display","none")}function n(t,e){if("time"===e){var n=a.timeParse(b.inputDateFormat)(t);return Boolean(n)}return!isNaN(t)}function r(t,e,n,r){var o=t;return"time"===r&&(o=a.timeParse(b.inputDateFormat)(t)),"min"===n?o<=e[1]:o>=e[0]}function l(){v.yHitZone.style("opacity","1")}function c(){v.yHitZone.style("opacity","0")}function u(){v.y2HitZone.style("opacity","1")}function s(){v.y2HitZone.style("opacity","0")}function d(){v.xHitZone.style("opacity","1")}function y(){v.xHitZone.style("opacity","0")}function f(){return k.on.apply(k,arguments),this}function p(t){return x=(0,o.override)(x,t),this}function h(t){return b=(0,o.override)(b,t),this}function m(){return b.xDomainEditorIsEnabled||b.yDomainEditorIsEnabled||b.y2DomainEditorIsEnabled?e():g(),this}function g(){return v.root&&(v.root.remove(),v.root=null),this}var b={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,keyType:null,inputDateFormat:"%m-%d-%Y",numberFormat:".2f",xDomain:"auto",yDomain:"auto",y2Domain:"auto",xLock:!1,yLock:!1,y2Lock:!1,xDomainEditorIsEnabled:!0,yDomainEditorIsEnabled:!0,y2DomainEditorIsEnabled:!0,chartWidth:null,chartHeight:null},v={container:t,root:null,xHitZone:null,yHitZone:null,y2HitZone:null,yMaxInput:null,yMinInput:null,yLockIcon:null,y2MaxInput:null,y2MinInput:null,y2LockIcon:null,xMinInput:null,xMaxInput:null,xLockIcon:null},x={xScale:null,yScale:null,y2Scale:null,hasSecondAxis:null},k=a.dispatch("domainChange","domainLockToggle");return{on:f,setScales:p,setConfig:h,render:m,destroy:g}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(1),i=n(3)},function(t,e,n){"use strict";function r(t){function e(t){return function(){var e=t.text(),n=a.timeParse(d.dateFormat)(e);n instanceof Date&&(e=a.timeFormat("%m-%d-%Y")(n),t.text(e))}}function n(){if(!y.root){y.root=y.container.append("div").attr("class","brush-range-input-group").style("top",0).style("padding-top","12px"),y.inputMax=y.root.append("div").attr("class","brush-range-input max").attr("contentEditable",!0);var t=e(y.inputMax);y.inputMax.on("focus",t).on("blur",function(){var t=f.xScale.domain(),e=y.rangeMin||t[0],n=y.rangeMax||t[1],r=(0,o.stringToType)(y.inputMax.text(),d.keyType);if(r!==y.rangeMax)if(r>e)y.rangeMax=r,p.call("rangeChange",this,{extent:[e,y.rangeMax]});else{var i=n instanceof Date?a.utcFormat(d.dateFormat)(n):n;y.inputMax.text(i)}}).call(i.blurOnEnter).style("float","right"),y.root.append("div").attr("class","separator").text("-").style("float","right"),y.inputMin=y.root.append("div").attr("class","brush-range-input min").attr("contentEditable",!0);var n=e(y.inputMin);y.inputMin.on("focus",n).on("blur",function(){var t=f.xScale.domain(),e=y.rangeMax||t[1],n=y.rangeMin||t[0],r=(0,o.stringToType)(y.inputMin.text(),d.keyType);if(r!==y.rangeMin)if(r<e)y.rangeMin=r,p.call("rangeChange",this,{extent:[y.rangeMin,e]});else{var i=n instanceof Date?a.utcFormat(d.dateFormat)(n):n;y.inputMin.text(i)}}).call(i.blurOnEnter).style("float","right")}var r=f.xScale.domain();if((0,o.extendIsValid)(r)){var l=null===d.brushRangeMin?r[0]:d.brushRangeMin,c=null===d.brushRangeMax?r[1]:d.brushRangeMax;if("time"===d.keyType){var u=a.utcFormat(d.dateFormat);y.rangeMin=new Date(l),y.rangeMax=new Date(c),l=u(new Date(l)),c=u(new Date(c))}else{var s=a.format(d.numberFormat);y.rangeMin=l,y.rangeMax=c,l=s(l),c=s(c)}y.inputMin.text(l),y.inputMax.text(c)}else y.inputMin.text(""),y.inputMax.text("")}function r(){return p.on.apply(p,arguments),this}function l(t){return d=(0,o.override)(d,t),this}function c(t){return f=(0,o.override)(f,t),this}function u(){return d.brushRangeIsEnabled?n():s(),this}function s(){return y.root&&(y.root.remove(),y.root=null),this}var d={keyType:"time",dateFormat:"%b %d, %Y",numberFormat:".2f",brushRangeIsEnabled:!0,brushRangeMin:null,brushRangeMax:null},y={container:t,root:null,inputMin:null,inputMax:null},f={xScale:null},p=a.dispatch("rangeChange");return{on:r,setConfig:l,render:u,setScales:c}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(1),i=n(3)},function(t,e,n){"use strict";function r(t){function e(){u.root||(u.root=u.container.append("div").attr("class","label-group").style("position","absolute").style("top",0).style("white-space","nowrap"),u.xAxisLabel=u.root.append("div").attr("class","axis-label x").style("position","absolute").attr("contentEditable",!0).on("blur",function(){s.call("axisLabelChange",this,{value:this.innerText,type:"x"})}).on("keypress",function(){"Enter"===a.event.key&&this.blur()}).style("transform","translate(-50%)"),u.yAxisLabel=u.root.append("div").attr("class","axis-label y").style("position","absolute").attr("contentEditable",!0).on("blur",function(){s.call("axisLabelChange",this,{value:this.innerText,type:"y"})}).on("keypress",function(){"Enter"===a.event.key&&this.blur()}).style("left",0).style("transform","translate(-50%) rotate(-90deg)"),u.y2AxisLabel=u.root.append("div").attr("class","axis-label y2").style("position","absolute").attr("contentEditable",!0).on("blur",function(){s.call("axisLabelChange",this,{value:this.innerText,type:"y2"})}).on("keypress",function(){"Enter"===a.event.key&&this.blur()}).style("transform","translate(-50%) rotate(90deg)")),u.xAxisLabel.text(c.xLabel).style("max-width","".concat(c.chartWidth,"px")).style("top",function(){var t=this.getBoundingClientRect().height||18;return"".concat(c.height-t-18,"px")}).style("left","".concat(c.margin.left+c.chartWidth/2,"px")),u.yAxisLabel.text(c.yLabel).style("max-width","".concat(c.chartHeight,"px")).style("top","".concat(c.margin.top+c.chartHeight/2,"px")).style("left",function(){return"".concat(this.getBoundingClientRect().width/2+4,"px")}),u.y2AxisLabel.text(c.y2Label).style("max-width","".concat(c.chartHeight,"px")).style("top","".concat(c.margin.top+c.chartHeight/2,"px")).style("left",function(){var t=this.getBoundingClientRect().width;return"".concat(c.width-t/2-4,"px")})}function n(){return s.on.apply(s,arguments),this}function r(t){return c=(0,o.override)(c,t),this}function i(){return e(),this}function l(){return u.root&&(u.root.remove(),u.root=null),this}var c={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,xLabel:"",yLabel:"",y2Label:"",chartWidth:null,chartHeight:null},u={container:t,root:null,xAxisLabel:null,yAxisLabel:null,y2AxisLabel:null},s=a.dispatch("axisLabelChange");return{on:n,setConfig:r,render:i,destroy:l}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(1)},function(t,e,n){"use strict";function r(t){return i(t)||o(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function i(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function l(){function t(t){var e=t;if(!t){var n=f.stringMinMaxLength;e=Math.round(Math.random()*(n[1]-n[0]))+n[0]}return r(Array(e)).map(function(){return String.fromCharCode(Math.round(25*Math.random())+97)}).join("")}function e(t,e,n){var a=c.randomUniform.apply(c,r(e))(),o=(e[1]-e[0])/10,i=c.randomNormal(0,1);return t.map(function(t){return a+=i()*o,!n&&a<o&&(a+=o),{value:a,key:"time"===f.keyType?t.toISOString():t}})}function n(){var n=null;if("time"===f.keyType){p.baseDate=new Date;var r=new Date(p.baseDate.getTime()-g*f.pointCount);n=c.timeDay.range(r,p.baseDate)}else"string"===f.keyType?(n=c.range(0,f.pointCount).map(function(){return t()}),n.sort(function(t,e){return t.localeCompare(e,"en",{numeric:!1})})):"number"===f.keyType&&(n=c.range(0,f.pointCount).map(function(t,e){return e}));var a=c.range(f.lineCount).map(function(t){return{label:"Label ".concat(t),id:t,group:t<f.groupCount?t:0,values:e(n,f.range)}});return p.data={series:a},p.data}function a(t){return new Date(new Date(t).toString())}function o(t,e,n){var r=(0,s.cloneData)(t[u.keys.SERIES]);r.forEach(function(t){t[u.keys.VALUES].forEach(function(t){"time"===e&&(t[u.keys.KEY]=a(t[u.keys.KEY])),t[u.keys.VALUE]=Number(t[u.keys.VALUE])})});var o=[],i=[];r.forEach(function(t){i=i.concat(t.values)}),i=i.map(function(t){return t.key}),i=(0,s.getUnique)(i,e),r.forEach(function(t){var n={};t[u.keys.VALUES].forEach(function(t){n[t.key]=t.value});var r=i.map(function(t){return{key:t,value:void 0===n[t]?null:n[t]}});t[u.keys.VALUES]=(0,s.sortData)(r,e)}),r.forEach(function(t){t[u.keys.VALUES].forEach(function(e){var n={};n[u.keys.LABEL]=t[u.keys.LABEL],n[u.keys.GROUP]=t[u.keys.GROUP],n[u.keys.ID]=t[u.keys.ID],n[u.keys.KEY]=e[u.keys.KEY],n[u.keys.VALUE]=e[u.keys.VALUE],o.push(n)})});var l=(0,s.sortData)(o,e),d=c.nest().key(h).entries(l).map(function(t){var n={};return n[u.keys.KEY]="time"===e?new Date(t.key):t.key,n[u.keys.SERIES]=t.values,n}),y={};r.forEach(function(t){y[t[u.keys.GROUP]]||(y[t[u.keys.GROUP]]=[]),y[t[u.keys.GROUP]].push(t[u.keys.ID])});var f=d.map(function(t){var e={key:t[u.keys.KEY]};return t.series.forEach(function(t){e[t[u.keys.ID]]=t[u.keys.VALUE]}),e}),p=c.stack().keys(r.map(m)).order(c.stackOrderNone).offset(c.stackOffsetNone),g=d.map(function(t){return{key:t[u.keys.KEY],total:c.sum(t[u.keys.SERIES].map(function(t){return t[u.keys.VALUE]}))}});switch(n){case u.comparators.TOTAL_ASCENDING:g.sort((0,s.ascendingComparator)("total"));break;case u.comparators.TOTAL_DESCENDING:g.sort((0,s.descendingComparator)("total"));break;case u.comparators.ALPHA_ASCENDING:g.sort((0,s.ascendingComparator)("key"));break;case u.comparators.ALPHA_DESCENDING:g.sort((0,s.descendingComparator)("key"))}return{dataBySeries:r,dataByKey:d,stack:p,stackData:f,flatDataSorted:l,groupKeys:y,allKeyTotals:g}}function i(t,e,n,r){var a=(0,s.invertScale)(n.xScale,t,r),o=c.bisector(h).left,i=o(e.dataByKey,a),l=e.dataByKey[i],u=e.dataByKey[Math.max(i-1,0)],d=null;return a&&l&&u&&(d=a-u.key<l.key-a?u:l),d}function l(t){var e=(0,s.cloneData)(p.data);return e[u.keys.SERIES].forEach(function(e){var n=e[u.keys.VALUES],r=n.map(function(t){return t[u.keys.KEY]}),a=r.indexOf(t[0]),o=r.indexOf(t[1]);e[u.keys.VALUES]=e[u.keys.VALUES].slice(a,o)}),e}function d(t){var e=(0,s.cloneData)(p.data);return e[u.keys.SERIES].forEach(function(e){e[u.keys.VALUES]=e[u.keys.VALUES].filter(function(e){var n=new Date(e[u.keys.KEY]).getTime();return n>=t[0].getTime()&&n<=t[1].getTime()})}),e}function y(t){return f=Object.assign({},f,t),this}var f={keyType:"number",range:[0,100],pointCount:200,groupCount:2,lineCount:4,stringMinMaxLength:[4,8]},p={data:null,baseDate:null},h=function(t){return t[u.keys.KEY]},m=function(t){return t[u.keys.ID]},g=864e5;return{generateTestDataset:n,generateSeries:e,cleanData:o,getNearestDataPoint:i,filterByDate:d,filterByKey:l,setConfig:y}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),u=n(2),s=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Tooltip",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Legend",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"DataManager",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Observer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Binning",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"DomainEditor",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"BrushRangeEditor",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"Brush",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Hover",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Interactors",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"colors",{enumerable:!0,get:function(){return m.colors}});var a=r(n(16)),o=r(n(4)),i=r(n(7)),l=r(n(14)),c=r(n(24)),u=r(n(10)),s=r(n(11)),d=r(n(12)),y=r(n(13)),f=r(n(8)),p=r(n(9)),h=r(n(3)),m=n(5);n(25)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return l(t)||i(t,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}function l(t){if(Array.isArray(t))return t}function c(t){function e(){if(!w.root){var t=u.select(w.container).html(U(C.chartType));w.root=t.select(".mapd3-container").style("position","relative"),w.svgWrapper=t.select(".svg-wrapper"),w.svg=t.select("svg.chart"),w.headerGroup=t.select(".header-group").style("position","absolute"),w.panel=w.svg.select(".panel-group"),w.chart=w.svg.select(".chart-group"),i(),R={scale:(0,p.default)(),axis:(0,g.default)(w.root),line:(0,h.default)(w.panel),bar:(0,m.default)(w.panel),tooltip:(0,b.default)(w.root),legend:(0,v.default)(w.root),brush:(0,x.default)(w.panel),hover:(0,k.default)(w.panel),binning:(0,O.default)(w.headerGroup),domainEditor:(0,S.default)(w.root),brushRangeEditor:(0,P.default)(w.headerGroup),label:(0,A.default)(w.root),clipPath:(0,D.default)(w.svg)},F={onBrush:(0,y.rebind)(R.brush),onHover:(0,y.rebind)(R.hover),onBinning:(0,y.rebind)(R.binning),onDomainEditor:(0,y.rebind)(R.domainEditor),onBrushRangeEditor:(0,y.rebind)(R.brushRangeEditor),onLabel:(0,y.rebind)(R.label),onPanel:(0,y.rebind)(H)}}return w.svgWrapper.style("flex","0 0 ".concat(C.chartWidth,"px")).style("height","".concat(C.height,"px")),w.svg.style("flex","0 0 ".concat(C.markPanelWidth,"px")).style("height","".concat(C.chartHeight+C.margin.bottom)).attr("transform","translate(0,".concat(C.margin.top,")")),w.headerGroup.style("flex","0 0 ".concat(C.chartWidth,"px")).style("left","".concat(C.margin.left,"px")),w.panel.select(".panel-background").style("flex","0 0 ".concat(C.markPanelWidth,"px")).style("height","".concat(w.chartheight,"px")).attr("fill","transparent"),this}function n(){return L=R.scale.setConfig(C).setData(_).getScales(),R.clipPath.setConfig(C).render(),R.axis.setConfig(C).setScales(L).render(),R.bar.setConfig(C).setScales(L).setData(_).render(),R.line.setConfig(C).setScales(L).setData(_).render(),R.tooltip.setConfig(C).setScales(L).bindEvents(H),R.legend.setConfig(C).setScales(L).setData(_),R.brush.setConfig(C).setScales(L).setData(_).render(),R.hover.setConfig(C).setScales(L).setData(_).bindEvents(H),R.binning.setConfig(C).render(),R.domainEditor.setConfig(C).setScales(L).render(),R.brushRangeEditor.setConfig(C).setScales(L).render(),R.label.setConfig(C).render(),o(),this}function r(t){_.data=(0,y.cloneData)(t[d.keys.SERIES]);var e=B.cleanData(t,C.keyType,C.sortBy);Object.assign(_,e);var n=(0,f.autoConfigure)(I,w,_);return C=Object.assign({},I,n),M(),this}function o(){C.isAnimated&&(w.maskingRectangle=w.svg.select(".masking-rectangle").attr("width",w.chartWidth-2).attr("height",w.chartHeight).attr("x",C.margin.left+1).attr("y",C.margin.top),w.maskingRectangle.transition().duration(C.animationDuration).ease(C.ease).attr("width",0).attr("x",C.width-C.margin.right).on("end",function(){return w.maskingRectangle.remove()}))}function i(){var t=(0,y.throttle)(function(){H.call.apply(H,arguments)},20);w.panel.on("mouseover.dispatch",function(){H.call("mouseOverPanel",null,u.mouse(w.panel.node()))}).on("mouseout.dispatch",function(){H.call("mouseOutPanel",null,u.mouse(w.panel.node()))}).on("mousemove.dispatch",function(){var e=u.mouse(w.panel.node()),n=a(e,2),r=n[0],o=n[1],i=u.mouse(w.svgWrapper.node()),l=a(i,1),c=l[0];if(_.data){var s=r,y=B.getNearestDataPoint(s,_,L,C.keyType);if(y){var f=L.xScale(y[d.keys.KEY]);t("mouseMovePanel",null,y,f,o,c)}}})}function l(){return w.root||M(),F}function c(){return H.on.apply(H,arguments),this}function T(t){I=(0,y.override)(I,t);var e=(0,f.autoConfigure)(I,w,_);return C=Object.assign({},I,e),this}function M(){return e(),_.dataBySeries&&n(),this}function j(){w.root.on(".",null).remove()}var I={margin:{top:48,right:32,bottom:48,left:32},width:800,height:500,keyType:"time",chartId:(0,y.uniqueId)(),chartType:"line",extractType:null,ease:u.easeLinear,useScrolling:!1,isAnimated:!1,animationDuration:1500,colorSchema:s.colors.mapdColors.map(function(t){return{value:t}}),defaultColor:"skyblue",xDomain:"auto",yDomain:"auto",y2Domain:"auto",tickPadding:5,xAxisFormat:"auto",yAxisFormat:".2f",y2AxisFormat:".2f",tickSizes:8,yTicks:"auto",y2Ticks:"auto",xTickSkip:0,grid:null,axisTransitionDuration:0,labelsAreRotated:!1,sortBy:null,xTitle:"",yTitle:"",dotRadius:4,mouseChaseDuration:0,tooltipEase:u.easeQuadInOut,tooltipHeight:48,tooltipWidth:160,tooltipIsEnabled:!0,tooltipTitle:null,dateFormat:"%b %d, %Y",inputDateFormat:"%m-%d-%Y",numberFormat:".2f",legendXPosition:"auto",legendYPosition:"auto",legendTitle:"",legendIsEnabled:!0,binningResolution:"1mo",binningIsAuto:!0,binningToggles:["10y","1y","1q","1mo"],binningIsEnabled:!0,xLock:!1,yLock:!1,y2Lock:!1,xDomainEditorIsEnabled:!0,yDomainEditorIsEnabled:!0,y2DomainEditorIsEnabled:!0,brushRangeMin:null,brushRangeMax:null,brushRangeIsEnabled:!0,brushIsEnabled:!0,xLabel:"",yLabel:"",y2Label:"",barSpacingPercent:10},L={xScale:null,yScale:null,y2Scale:null,hasSecondAxis:null,colorScale:null},w={container:t,svg:null,panel:null,margin:null,maskingRectangle:null,width:null,height:null,chartWidth:null,chartHeight:null,xAxis:null,yAxis:null,yAxis2:null},_={dataBySeries:null,dataByKey:null,data:null,groupKeys:{},hasSecondAxis:!1,stackData:null,stack:null,flatDataSorted:null,allKeyTotals:null},R={},F={},C=null;T(I);var H=u.dispatch("mouseOverPanel","mouseOutPanel","mouseMovePanel"),B=(0,E.default)(),U=function(t){var e=function(e){switch(t){case"bar":case"stackedBar":return"bar";case"line":case"stackedArea":return"line";case Array.isArray(e):return"combo";default:return""}}(t);return'<div class="mapd3 mapd3-container '.concat(e,'">\n        <div class="y-axis-container">\n          <svg>\n            <g class="axis-group"></g>\n          </svg>\n        </div>\n        <div class="svg-wrapper">\n          <svg class="chart ').concat(e,'">\n            <g class="chart-group"></g>\n            <g class="panel-group">\n              <rect class="panel-background"></rect>\n            </g>\n            <rect class="masking-rectangle"></rect>\n          </svg>\n        </div>\n        <div class="y2-axis-container">\n          <svg>\n            <g class="axis-group"></g>\n          </svg>\n        </div>\n      </div>')};return{render:M,setConfig:T,setData:r,on:c,destroy:j,getEvents:l}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),s=n(5),d=n(2),y=n(1),f=n(18),p=r(n(19)),h=r(n(20)),m=r(n(21)),g=r(n(22)),b=r(n(4)),v=r(n(7)),x=r(n(8)),k=r(n(9)),O=r(n(10)),S=r(n(11)),P=r(n(12)),A=r(n(13)),E=r(n(14)),D=r(n(23))},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t,e){var n={},r=e&&e.allKeyTotals&&e.allKeyTotals.length||0;if(n.chartWidth=Math.max(t.width-t.margin.left-t.margin.right,0),n.chartHeight=Math.max(t.height-t.margin.top-t.margin.bottom,0),n.markPanelWidth=n.chartWidth,r){var a=t.useScrolling?o.MIN_MARK_WIDTH:0,l=r*a;n.markPanelWidth=n.chartWidth<l?l:n.chartWidth,n.markWidth=n.markPanelWidth/r,n.markWidth=(0,i.clamp)(n.markWidth,[a,o.MAX_MARK_WIDTH])}return n}function a(t,e,n){var a={};"auto"===t.width&&(a.width=e.container&&e.container.clientWidth||0),"auto"===t.height&&(a.height=e.container&&e.container.clientHeight||0);var o=r(t,n);return Object.assign(a,o),a}Object.defineProperty(e,"__esModule",{value:!0}),e.getSizes=r,e.autoConfigure=a;var o=n(2),i=n(1)},function(t,e,n){"use strict";function r(){function t(t){var e=null,n=null;return"time"===h.keyType?e=a.scaleTime():"number"===h.keyType?e=a.scaleLinear():(e=a.scalePoint(),e.padding(0)),n="auto"===h.xDomain?"string"===h.keyType?t:"number"===h.keyType?a.extent(t.map(function(t){return Number(t)})):a.extent(t):h.xDomain,e.domain(n).range([h.markWidth/2,h.markPanelWidth-h.markWidth/2]),e}function e(t){return a.scaleLinear().domain(t).rangeRound([h.chartHeight,0])}function n(){var t=m.dataBySeries.map(g);return a.scaleOrdinal().range(h.colorSchema.map(function(t){return t.value})).domain(h.colorSchema.map(function(e,n){return void 0===e.id?t[n]:e.id})).unknown(h.defaultColor)}function r(){var t=m.dataBySeries.map(g);return a.scaleOrdinal().range(h.colorSchema.map(function(t){return t.style})).domain(h.colorSchema.map(function(e,n){return e.id||t[n]})).unknown("solid")}function l(){var t=m.dataBySeries.map(g);return a.scaleOrdinal().range(h.colorSchema.map(function(t){return t.type})).domain(h.colorSchema.map(function(e,n){return e.id||t[n]})).unknown("line")}function c(){var t={};return m.dataBySeries.forEach(function(e){var n=e[o.keys.GROUP];t[n]||(t[n]={allValues:[],allKeys:[]}),t[n].allValues=t[n].allValues.concat(e[o.keys.VALUES].map(v)),t[n].allKeys=t[n].allKeys.concat(e[o.keys.VALUES].map(b))}),t}function u(){var o=m.dataByKey.map(function(t){return a.sum(t.series.map(function(t){return t.value}))}),i=m.allKeyTotals.map(b),c=t(i),u=n(),s=r(),d=l(),y=null;if("auto"===h.yDomain){y=[0,a.extent(o)[1]]}else y=h.yDomain;return{xScale:c,yScale:e(y),colorScale:u,styleScale:s,chartTypeScale:d}}function s(t){return void 0===t[0]||void 0===t[1]?[0,0]:t}function d(){var i=c(),u=Object.keys(i)||[],d=m.allKeyTotals.map(b),y=u.indexOf(o.LEFT_AXIS_GROUP_INDEX)>-1,f=u.indexOf(o.RIGHT_AXIS_GROUP_INDEX)>-1,p=t(d),g=n(),v=r(),x=l(),k=null;if(y){var O=null;if("auto"===h.yDomain){var S=i[o.LEFT_AXIS_GROUP_INDEX];O=a.extent(S.allValues)}else O=h.yDomain;k=e(s(O))}var P=null;if(f){var A=null;if("auto"===h.y2Domain){var E=i[o.RIGHT_AXIS_GROUP_INDEX];A=a.extent(E.allValues)}else A=h.y2Domain;P=e(A)}return{hasSecondAxis:f,xScale:p,yScale:k,y2Scale:P,colorScale:g,styleScale:v,chartTypeScale:x}}function y(){return"stackedBar"===h.chartType||"stackedArea"===h.chartType?u():d()}function f(t){return h=(0,i.override)(h,t),this}function p(t){return m=Object.assign({},m,t),this}var h={keyType:null,chartType:null,colorSchema:null,defaultColor:null,xDomain:"auto",yDomain:"auto",y2Domain:"auto",chartWidth:null,chartHeight:null,markPanelWidth:null,markWidth:null},m={dataByKey:null,dataBySeries:null,flatDataSorted:null,groupKeys:null,allKeyTotals:null},g=function(t){return t[o.keys.ID]},b=function(t){return t[o.keys.KEY]},v=function(t){return t[o.keys.VALUE]};return{setConfig:f,setData:p,getScales:y}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(2),i=n(1)},function(t,e,n){"use strict";function r(t){function e(){h.root||(h.root=h.container.append("g").classed("mark-group",!0))}function n(){var t=a.line().x(function(t){return p.xScale(t[o.keys.KEY])}).y(function(t){return p.yScale(t[o.keys.VALUE])}),e=a.line().x(function(t){return p.xScale(t[o.keys.KEY])}).y(function(t){return p.y2Scale(t[o.keys.VALUE])});Array.isArray(f.xDomain)&&(t.defined(function(t){return t[o.keys.KEY]>=f.xDomain[0]&&t[o.keys.KEY]<=f.xDomain[1]}),e.defined(function(t){return t[o.keys.KEY]>=f.xDomain[0]&&t[o.keys.KEY]<=f.xDomain[1]}));var n=m.dataBySeries;Array.isArray(f.chartType)&&(n=n.filter(function(t,e){return"line"===f.chartType[e]}));var r=h.root.selectAll(".mark").data(n);r.enter().append("path").merge(r).attr("class","mark line").attr("clip-path","url(#mark-clip-".concat(f.chartId,")")).classed("y2-line",function(t){return t[o.keys.GROUP]>0}).attr("d",function(n){return 0===n[o.keys.GROUP]?t(n[o.keys.VALUES]):e(n[o.keys.VALUES])}).style("stroke",g).style("fill","none").attr("stroke-dasharray",function(t){var e=p.styleScale(t[o.keys.ID]);return o.dashStylesTranslation[e]}),r.exit().remove()}function r(){var t=a.area().x(function(t){return p.xScale(t[o.keys.KEY])}).y0(function(t){return p.yScale(t[o.keys.VALUE])}).y1(function(){return f.chartHeight}),e=a.area().x(function(t){return p.xScale(t[o.keys.KEY])}).y0(function(t){return p.y2Scale(t[o.keys.VALUE])}).y1(function(){return f.chartHeight}).curve(a.curveCatmullRom),n=h.root.selectAll(".mark").data(m.dataBySeries);n.enter().append("path").merge(n).attr("class","mark area").attr("clip-path","url(#mark-clip-".concat(f.chartId,")")).classed("y2-area",function(t){return t[o.keys.GROUP]>0}).attr("d",function(n){return 0===n[o.keys.GROUP]?t(n[o.keys.VALUES]):e(n[o.keys.VALUES])}).style("stroke",g).style("fill",g),n.exit().remove()}function l(){var t=a.area().x(function(t){return p.xScale(t.data[o.keys.KEY])}).y0(function(t){return p.yScale(t[0])}).y1(function(t){return p.yScale(t[1])}),e=h.root.selectAll(".mark").data(m.stack(m.stackData));e.enter().append("path").merge(e).attr("class","mark stacked-area").attr("clip-path","url(#mark-clip-".concat(f.chartId,")")).attr("d",t).style("stroke","none").style("fill",function(t){return p.colorScale(t.key)}),e.exit().remove()}function c(t){return f=(0,i.override)(f,t),this}function u(t){return p=(0,i.override)(p,t),this}function s(t){return m=Object.assign({},m,t),this}function d(){e(),"area"===f.chartType?r():"line"===f.chartType||Array.isArray(f.chartType)?n():"stackedArea"===f.chartType&&l()}function y(){return h.root&&(h.root.remove(),h.root=null),this}var f={chartId:null,chartType:null,colorSchema:["skyblue"],xDomain:"auto",chartHeight:null},p={colorScale:null,styleScale:null,chartTypeScale:null,xScale:null,yScale:null,y2Scale:null},h={container:t,svg:null},m={dataBySeries:null,groupKeys:null,stack:null,stackData:null},g=function(t){return p.colorScale(t[o.keys.ID])};return{setConfig:c,setScales:u,setData:s,render:d,destroy:y}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(2),i=n(1)},function(t,e,n){"use strict";function r(t){function e(){f.root||(f.root=f.container.append("g").classed("mark-group",!0))}function n(){var t=p.dataByKey&&p.dataByKey.length||1,e=[];Array.isArray(d.chartType)?e=p.dataBySeries.filter(function(t,e){return"bar"===d.chartType[e]}):"bar"!==d.chartType&&"groupedBar"!==d.chartType||(e=p.dataBySeries);var n=e.length,r=t?d.markPanelWidth/t:0,o=r/100*d.barSpacingPercent,i=n?(r-o)/n:0,l=f.root.selectAll(".bar-layer").data(e),c=l.enter().append("g").attr("class","bar-layer").merge(l);l.exit().remove();var u=c.selectAll(".mark").data(function(t,e){return t.values.map(function(n){var r=Object.assign({},n);return r.id=t[a.keys.ID],r.group=t[a.keys.GROUP],r.index=e,r})});u.enter().append("rect").attr("class","mark bar").attr("clip-path","url(#mark-clip-".concat(d.chartId,")")).merge(u).attr("x",function(t){if("groupedBar"===d.chartType||e.length>1){var n=y.xScale(t[a.keys.KEY])-r/2+i*t.index+o/2;return Math.max(n,0)}return Math.max(y.xScale(t[a.keys.KEY])-d.markWidth/2,0)}).attr("y",function(t){return 0===t[a.keys.GROUP]?Math.min(y.yScale(t[a.keys.VALUE]),d.chartHeight-h):Math.min(y.y2Scale(t[a.keys.VALUE]),d.chartHeight-h)}).attr("width",function(){return"groupedBar"===d.chartType||e.length>1?i:d.markWidth}).attr("height",function(t){return 0===t[a.keys.GROUP]?Math.max(d.chartHeight-y.yScale(t[a.keys.VALUE]),h):Math.max(d.chartHeight-y.y2Scale(t[a.keys.VALUE]),h)}).style("stroke","white").style("fill",m),u.exit().remove()}function r(){var t=p.stack(p.stackData),e=d.markWidth/100*d.barSpacingPercent,n=f.root.selectAll(".bar-group").data(t),r=n.enter().append("g").attr("class","bar-group").merge(n).attr("fill",function(t){return y.colorScale(t.key)}).attr("stroke","white");n.exit().remove();var o=r.selectAll(".mark").data(function(t){return t});o.enter().append("rect").attr("class","mark bar").attr("clip-path","url(#mark-clip-".concat(d.chartId,")")).merge(o).attr("x",function(t){return y.xScale(t.data[a.keys.KEY])-d.markWidth/2+e/2}).attr("y",function(t){return y.yScale(t[1])}).attr("height",function(t){return Math.max(y.yScale(t[0])-y.yScale(t[1]),h)}).attr("width",d.markWidth-e),o.exit().remove()}function i(t){return d=(0,o.override)(d,t),this}function l(t){return y=(0,o.override)(y,t),this}function c(t){return p=Object.assign({},p,t),this}function u(){e(),"stackedBar"===d.chartType?r():n()}function s(){f.root&&(f.root.remove(),f.root=null)}var d={margin:{top:60,right:30,bottom:40,left:0},width:800,height:500,chartId:null,chartType:null,barSpacingPercent:10,markWidth:null,chartWidth:null,chartHeight:null,markPanelWidth:null},y={colorScale:null,chartTypeScale:null,xScale:null,yScale:null,y2Scale:null},f={container:t,svg:null},p={dataBySeries:null,groupKeys:null,stack:null,stackData:null},h=1,m=function(t){return y.colorScale(t[a.keys.ID])};return{setConfig:i,setScales:l,setData:c,render:u,destroy:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(2),o=n(1)},function(t,e,n){"use strict";function r(t){function e(){v.root||(v.root=v.container.select("svg.chart > g.chart-group"),v.xAxisRoot=v.root.append("g").classed("axis-group",!0).style("pointer-events","none"),v.xAxisRoot.append("g").attr("class","grid-lines-group"),v.xAxisRoot.append("g").attr("class","axis x"),v.yAxisRoot=v.container.select(".y-axis-container > svg"),v.y2AxisRoot=v.container.select(".y2-axis-container > svg"),v.yAxisRoot.select(".axis-group").append("g").attr("class","axis y"),v.y2AxisRoot.select(".axis-group").append("g").attr("class","axis y2"));v.yAxisRoot.attr("width",g.margin.left).attr("height",g.chartHeight+g.margin.top+g.margin.bottom).select(".axis-group").attr("transform","translate(".concat(g.margin.left-1,", ").concat(g.margin.top,")")),v.y2AxisRoot.attr("width",g.margin.left).attr("height",g.chartHeight+g.margin.top+g.margin.bottom).select(".axis-group").attr("transform","translate(0, ".concat(g.margin.top,")"))}function n(){if("time"===g.keyType)if(g.xAxisFormat&&"auto"!==g.xAxisFormat){var t=a.utcFormat(g.xAxisFormat);v.xAxis.tickFormat(t)}else v.xAxis.tickFormat(i.multiFormat);else if("string"===g.keyType){var e=g.xTickSkip;"auto"===g.xTickSkip&&(e=s()),v.xAxis.tickValues(b.xScale.domain().filter(function(t,n){return!(n%e)}))}else if("number"===g.keyType)if(g.extractType){var n=(0,i.getExtractFormatter)(g.extractType);v.xAxis.tickFormat(n)}else if(g.xAxisFormat&&"auto"!==g.xAxisFormat){var r=a.format(g.xAxisFormat);v.xAxis.tickFormat(r)}}function r(t){if(b.yScale)if("auto"===g.yAxisFormat){var e="auto"===g.yDomain?b.yScale.domain():g.yDomain,n=(0,i.autoFormat)(e,g.numberFormat);t.tickFormat(a.format(n))}else"string"==typeof g.yAxisFormat&&t.tickFormat(a.format(g.yAxisFormat))}function l(t){if(b.y2Scale)if("auto"===g.y2AxisFormat){var e="auto"===g.y2Domain?b.y2Scale.domain():g.y2Domain,n=(0,i.autoFormat)(e,g.numberFormat);t.tickFormat(a.format(n))}else"string"==typeof g.y2AxisFormat&&t.tickFormat(a.format(g.y2AxisFormat))}function c(){v.xAxis=a.axisBottom(b.xScale).tickSize(g.tickSizes,0).tickPadding(g.tickPadding).tickSizeOuter(0),n(),b.yScale&&(v.yAxis=a.axisLeft(b.yScale).tickSize([g.tickSizes]).tickPadding(g.tickPadding).tickSizeOuter(0),r(v.yAxis),Number.isInteger(g.yTicks)?v.yAxis.ticks(g.yTicks):v.yAxis.ticks(Math.ceil(g.chartHeight/g.tickSpacing))),b.hasSecondAxis&&(v.y2Axis=a.axisRight(b.y2Scale).tickSize([g.tickSizes]).tickPadding(g.tickPadding).tickSizeOuter(0),l(v.y2Axis),isNaN(g.y2Ticks)||v.y2Axis.ticks(g.y2Ticks))}function u(){return v.xAxisRoot.select(".axis.x").selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").style("text-anchor","start"),this}function s(){var t=b.xScale.domain(),e=null;if(g.labelsAreRotated)e=5;else{e=5*t.reduce(function(t,e){return e.length>t.length?e:t},{length:0}).length}return Math.ceil(e/(g.markPanelWidth/t.length))}function d(){return v.xAxisRoot.select(".axis.x").attr("transform","translate(0, ".concat(g.chartHeight,")")).call(v.xAxis),g.labelsAreRotated&&u(),b.yScale?v.yAxisRoot.select(".axis.y").transition().duration(g.axisTransitionDuration).ease(g.ease).call(v.yAxis):v.yAxisRoot.selectAll("*").remove(),b.y2Scale?v.y2AxisRoot.select(".axis.y2").transition().duration(g.axisTransitionDuration).ease(g.ease).call(v.y2Axis):v.y2AxisRoot.select(".axis.y2").selectAll("*").remove(),this}function y(){if("horizontal"===g.grid||"full"===g.grid){var t=null;t=Number.isInteger(g.yTicks)?g.yTicks:Math.ceil(g.chartHeight/g.tickSpacing),b.yScale?(v.horizontalGridLines=v.xAxisRoot.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(b.yScale.ticks(t)),v.horizontalGridLines.enter().append("line").attr("class","horizontal-grid-line").merge(v.horizontalGridLines).transition().duration(g.axisTransitionDuration).attr("x2",g.markPanelWidth).attr("y1",b.yScale).attr("y2",b.yScale),v.horizontalGridLines.exit().remove()):v.horizontalGridLines&&v.horizontalGridLines.selectAll("*").remove()}return"vertical"!==g.grid&&"full"!==g.grid||(v.verticalGridLines=v.xAxisRoot.select(".grid-lines-group").selectAll("line.vertical-grid-line").data(v.xAxis.tickValues()),v.verticalGridLines.enter().append("line").attr("class","vertical-grid-line").merge(v.verticalGridLines).transition().duration(g.axisTransitionDuration).attr("y1",0).attr("y2",g.chartHeight).attr("x1",b.xScale).attr("x2",b.xScale),v.verticalGridLines.exit().remove()),this}function f(t){return g=(0,o.override)(g,t),this}function p(t){return b=(0,o.override)(b,t),this}function h(){e(),c(),d(),y()}function m(){v.xAxisRoot&&(v.xAxisRoot.remove(),v.xAxisRoot=null),v.yAxisRoot&&(v.yAxisRoot.remove(),v.yAxisRoot=null),v.y2AxisRoot&&(v.y2AxisRoot.remove(),v.y2AxisRoot=null)}var g={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,tickSizes:null,tickPadding:null,xAxisFormat:null,yAxisFormat:null,y2AxisFormat:null,keyType:null,yTicks:null,y2Ticks:null,xTickSkip:null,axisTransitionDuration:null,ease:null,grid:null,hoverZoneSize:30,tickSpacing:40,dateFormat:"%b %d, %Y",numberFormat:".2f",extractType:null,yDomain:"auto",y2Domain:"auto",labelsAreRotated:!1,chartWidth:null,chartHeight:null,markPanelWidth:null},b={xScale:null,yScale:null,y2Scale:null,hasSecondAxis:null},v={container:t,root:null,xAxisRoot:null,yAxisRoot:null,y2AxisRoot:null,background:null,xAxis:null,yAxis:null,y2Axis:null,horizontalGridLines:null,verticalGridLines:null};return{setConfig:f,setScales:p,render:h,destroy:m}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=n(1),i=n(6)},function(t,e,n){"use strict";function r(t){function e(){i.clipPath||(i.clipPath=i.container.append("defs").append("clipPath").attr("id","mark-clip-".concat(o.chartId)).append("rect")),i.clipPath.attr("width",o.markPanelWidth).attr("height",o.chartHeight)}function n(t){return o=(0,a.override)(o,t),this}function r(){e()}var o={margin:{top:60,right:30,bottom:40,left:70},width:800,height:500,chartId:null,markPanelWidth:null,chartHeight:null},i={container:t,clipPath:null};return{setConfig:n,render:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=n(1)},function(t,e,n){"use strict";function r(t){function e(){return r.on.apply(r,arguments),this}function n(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return r.call.apply(r,[t,this].concat(n)),this}var r=a.dispatch("brushChange","dataFilter"),o=t;return r.on("brushChange.observer",function(t,e){n("dataFilter","time"===e.keyType?o.filterByDate(t):o.filterByKey(t))}),{sub:e,pub:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0))},function(t,e){}])});